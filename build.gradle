group = 'com.tess4j'
version = '1.1'
buildDir = 'target'

buildscript {
	repositories {
		maven { url "http://repo.ghost4j.org/maven2/releases" }
		maven { url "http://repository.mygrid.org.uk/artifactory/mygrid-all/" }
		mavenCentral()
	}
}

repositories {
	maven { url "http://repo.ghost4j.org/maven2/releases" }
	maven { url "http://repository.mygrid.org.uk/artifactory/mygrid-all/" }
	mavenCentral()
}


// apply plugins
apply plugin: 'java'
apply plugin: 'war'
apply plugin: 'idea'
apply plugin: 'eclipse'
apply plugin: 'eclipse-wtp'

// eclipse wtp context
eclipse{
	wtp {
		component {
			contextPath = 'tess4j'
		}
	}
}

// war manifest information
ext.sharedManifest = manifest {
	attributes(
			'Build-User' : System.properties['user.name'],
			'Build-Time' : new Date().format('yyyy-MMMM-dd HH:mm:ss'),
			'Build-OS' : System.properties['os.name'] + ' - version ' + System.properties['os.version'],
			'Build-Sys' : System.properties['os.arch'],
			'Java-Version' : System.properties['java.version'])
}


// Build WAR file
war {
	archiveName = "tess4j.war"
	manifest = sharedManifest
	destinationDir = file("$buildDir")
}

// versions of dependencies
def logbackVersion = '1.1.2'

dependencies {

	// Servlet Api
	providedCompile "javax.servlet:javax.servlet-api:3.1.0"

	compile "net.sourceforge.tess4j:tess4j:1.3.0"

	// spring boot
	compile "org.springframework.boot:spring-boot-starter-web:1.1.9.RELEASE"

	//spring data mongodb
	compile "org.springframework.boot:spring-boot-starter-data-mongodb:1.1.9.RELEASE"

	//rest-assured
	testCompile "com.jayway.restassured:rest-assured:2.4.0"

	//Commons Codec for Base 64
	compile "commons-codec:commons-codec:1.10"

	//Commons IO
	compile "commons-io:commons-io:2.4"

	//junit
	testCompile "junit:junit:4.11"
}
